<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Тайтл</title>
    <link rel="stylesheet" href="style.css">

</head>

<body>
    <!-- Вы разрабатываете страницу для отображения информации о товаре.
     У вас есть объект product, который содержит информацию о товаре, 
     включая название, цену и URL изображения товара -->






    <div id="app">
        <div class="container">
            <div class="panel">
                <h1>Каталог товаров</h1>
            </div>
            <div class="result">
                <div class="result__item" v-for="item in product" :key="item.id">
                    <h2>{{item.name}}</h2>
                    <img :src="item.img" :alt="item.name">
                    <div class="price">Стоимость: {{item.price}}</div>
                    <div>{{(item.date).getFullYear()}}</div><br>
                    <button @click="getDiscount">Получить скидку</button>
                    <div>Цена со скидкой: {{item.price - (item.price * discount)/100}}</div>
                    <!-- Добавьте кнопку, которая будет изменять цену товара. 
                    При нажатии на кнопку должна генерироваться скидка на товар от 1 до 20%
                     и обновиться цена товара в соответствии с значением скидки -->
                    <div class="card">
                        <input type="number" name="qnt" id="qnt" v-model.number="item.qnt" class="qnt">
                        <label for="qnt">Количество товара: </label>
                    </div>
                    <div class="card">
                        <input type="checkbox" name="bought" id="bought" v-model="item.bought">
                        <label for="bought">Товар куплен</label>
                    </div>

                </div>
            </div>
        </div>

        <!--    Вы разрабатываете простое приложение для отображения списка пользователей. 
        У вас есть массив объектов users, где каждый объект представляет одного пользователя с его именем и возрастом. 
        Вам необходимо отобразить каждого пользователя из массива в виде списка на странице. -->

        <div class="container">
            <div class="panel">
                <h1>Список пользователей</h1>
            </div>

            <div class="result">
                <div class="result__item" v-for="item in contacts" :key="item.id">
                    <h2>{{item.name}} {{item.secondName}} ID: {{item.id}}</h2>
                    <p>{{item.eMail}}</p>
                </div>
            </div>
        </div>
    </div>





    <script src="https://cdn.jsdelivr.net/npm/vue@2.7.8/dist/vue.js"></script>
    <script>
        const v = new Vue({
            el: '#app',
            data: {
                pageTitle: 'Урок 4. Семинар: Методы и работа с контентом',
                discount: 0,
                product: [
                    {
                        name: 'Телевизор',
                        price: 125,
                        img: 'https://static.nix.ru/images/sony-kd-50x81jr-5418432254.jpeg?good_id=541843&width=500&height=500&view_id=2254',
                        date: new Date(Date.UTC(2017, 1, 2)),
                        qnt: 10,
                        bought: false
                    },
                    {
                        name: 'Клавиатура',
                        price: 15,
                        img: 'https://img.mvideo.ru/Pdb/50174469b.jpg',
                        date: new Date(Date.UTC(2018, 11, 12)),
                        qnt: 12,
                        bought: false
                    },
                    {
                        name: 'Телефон',
                        price: 76,
                        img: 'https://img.mvideo.ru/Pdb/30041492b.jpg',
                        date: new Date(Date.UTC(2019, 12, 11)),
                        qnt: 5,
                        bought: false
                    },
                    {
                        name: 'Зарядка',
                        price: 6,
                        img: 'https://avatars.dzeninfra.ru/get-zen_doc/128694/pub_5d999bc08600e100ad72d117_5d999eb9ec575b00b0154545/scale_1200',
                        date: new Date(Date.UTC(2022, 4, 5)),
                        qnt: 9,
                        bought: false
                    },
                    {
                        name: 'Планшет',
                        price: 23,
                        img: 'https://vl.shop.megafon.ru/images/goods/1180/118043_p_8_7.jpg',
                        date: new Date(Date.UTC(2013, 7, 8)),
                        qnt: 36,
                        bought: false
                    },
                    {
                        name: 'Мышь',
                        price: 12,
                        img: 'https://www.adverti.ru/media/catalog/product/1/0/102106.jpg',
                        date: new Date(Date.UTC(2023, 9, 5)),
                        qnt: 120,
                        bought: false
                    },
                ],
                contacts: [
                    {
                        id: 0,
                        name: "Viktor",
                        secondName: "Ivanov",
                        eMail: "ivanov@mail.ru",
                    },
                    {
                        id: 1,
                        name: "Petr",
                        secondName: "Voronov",
                        eMail: "vor@mail.ru",
                    },
                    {
                        id: 2,
                        name: "Sveta",
                        secondName: "Gorbunova",
                        eMail: "svetka@mail.ru",
                    },
                ],
            },
            methods: {
                getDiscount() {
                    this.discount = Math.floor(Math.random() * 20)
                    console.log(this.discount);
                }
            },
            computed: {
                priceWithDiscount() {
                    return (
                        this.product.price - (this.product.price * this.discount) / 100
                    );
                },
                // getDate(){
                //     let fullDate = this.date;
                //     let year = fullDate.getFullYear();
                //     let monthName =fullDate.toLocaleString('default', { month: 'long' });
                //     let day = fullDate.getDay();
                //     let res = `Добавлено ${day} ${monthName} ${year}`;
                //     return(res);
                // }
            }
        })

        document.title = v.pageTitle;
    </script>
</body>

</html>